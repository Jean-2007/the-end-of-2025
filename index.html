<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Despedida de AÃ±o 2025</title>
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: 'Segoe UI', sans-serif;
        overflow: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        background: black;
    }

    canvas#fuegos {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
    }

    .carta {
        position: relative;
        z-index: 2;
        background: rgba(0,0,0,0.7);
        padding: 30px;
        border-radius: 25px;
        max-width: 500px;
        text-align: center;
        color: #fff;
        box-shadow: 0 0 50px rgba(0,0,0,0.7);
        display: none; /* Oculta hasta elegir destinatario */
    }

    h1 {
        font-size: 2.5em;
        margin-bottom: 20px;
        animation: parpadeo 1.5s infinite;
    }

    p {
        font-size: 1.15em;
        line-height: 1.5;
        margin-bottom: 20px;
        opacity: 0;
        transform: translateY(20px);
        animation: colorChange 4s infinite alternate;
    }

    @keyframes parpadeo {
        0%,50%,100% {opacity:1;}
        25%,75% {opacity:0.5;}
    }

    @keyframes aparecerParrafo {
        0% {opacity:0; transform: translateY(20px);}
        100% {opacity:1; transform: translateY(0);}
    }

    @keyframes colorChange {
        0% {color: #ff4081;}
        25% {color: #fdd835;}
        50% {color: #00e5ff;}
        75% {color: #76ff03;}
        100% {color: #ff4081;}
    }

    button {
        padding: 12px 25px;
        font-size: 1.1em;
        border: none;
        border-radius: 12px;
        background: #00e676;
        color: #000;
        cursor: pointer;
        transition: transform 0.2s ease;
        margin: 10px;
    }

    button:hover {
        transform: scale(1.2) rotate(-5deg);
        background: #76ff03;
    }

    .confeti, .emoji {
        position: absolute;
        top: -20px;
        font-size: 20px;
        pointer-events: none;
    }

    /* Pantalla inicial */
    .pantalla-inicial {
        position: absolute;
        top:0;
        left:0;
        width:100%;
        height:100%;
        background: rgba(0,0,0,0.9);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 3;
        color: #fff;
        text-align: center;
    }

    .pantalla-inicial h2 {
        font-size: 2em;
        margin-bottom: 30px;
    }
</style>
</head>
<body>

<canvas id="fuegos"></canvas>

<div class="pantalla-inicial" id="inicio">
    <h2>Â¿Para quiÃ©n es esta carta?</h2>
    <button data-tipo="amigos">Amigos</button>
    <button data-tipo="conocidos">Conocidos</button>
</div>

<div class="carta" id="carta">
    <h1>Â¡AdiÃ³s, 2025!</h1>
    <div id="mensaje"></div>
    <button id="despedirBtn">Despedir AÃ±o con Estilo</button>
</div>

<script>
    // Fuegos artificiales
    const canvas = document.getElementById('fuegos');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let particles = [];
    function crearFuego() {
        const x = Math.random() * canvas.width;
        const y = Math.random() * canvas.height/2;
        const colores = ['#ff4081','#fdd835','#00e5ff','#76ff03','#ff6d00'];
        for(let i=0;i<50;i++){
            particles.push({
                x:x,
                y:y,
                vx:(Math.random()-0.5)*4,
                vy:(Math.random()-0.5)*4,
                color: colores[Math.floor(Math.random()*colores.length)],
                alpha:1,
                size:2+Math.random()*3
            });
        }
    }
    function animarFuegos(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        particles.forEach((p,i)=>{
            ctx.globalAlpha = p.alpha;
            ctx.fillStyle = p.color;
            ctx.beginPath();
            ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
            ctx.fill();
            p.x+=p.vx;
            p.y+=p.vy;
            p.alpha-=0.01;
            if(p.alpha<=0) particles.splice(i,1);
        });
        requestAnimationFrame(animarFuegos);
    }
    setInterval(crearFuego, 800);
    animarFuegos();

    const mensajes = {
        amigos: `Si estÃ¡s leyendo esto, es porque de alguna forma fuiste parte de mi 2025.  
Tal vez estuvimos cerca, tal vez no tanto, pero en algÃºn punto compartimos
tiempo, palabras, risas, silencios o simplemente presencia. Y eso ya cuenta.

Este aÃ±o fue intenso. A ratos bonito, a ratos caÃ³tico, a ratos agotador.
No siempre saliÃ³ todo bien, no siempre supimos quÃ© hacer,
pero aquÃ­ estamos, llegando al final, que no es poca cosa.

QuerÃ­a despedir el aÃ±o diciendo gracias.  
Gracias por estar, por sumar, por acompaÃ±ar de la forma que pudiste
y tambiÃ©n por enseÃ±arme cosas, incluso sin darte cuenta.
Cada persona deja algo, aunque no lo sepa.

Ahora toca cerrar este capÃ­tulo y darle espacio al siguiente.
Que el 2026 nos trate mejor, o al menos que nos encuentre mÃ¡s fuertes,
mÃ¡s tranquilos y un poco mÃ¡s fieles a lo que somos.

Te deseo un aÃ±o con risas reales, decisiones valientes
y momentos que valgan la pena recordar.
CuÃ­date mucho, de verdad.
Feliz AÃ±o Nuevo. ðŸŽ‰`,
        conocidos: `Hola,  
el 2025 estÃ¡ por despedirse, y querÃ­a tomar un momento para reconocer
que fue un aÃ±o de todo un poco: desafÃ­os, aprendizajes, risas y cambios.
Aunque no nos conozcamos demasiado, de alguna forma formaste parte de este aÃ±o
y eso ya merece un pequeÃ±o agradecimiento.

Que el 2026 nos encuentre mÃ¡s fuertes, con nuevas oportunidades
y suficientes momentos que nos hagan sonreÃ­r de verdad.
Gracias por estar, aunque sea de forma lejana, y por compartir
este tiempo en el mundo conmigo.  

Feliz AÃ±o Nuevo ðŸŽ‰`
    };

    const inicio = document.getElementById('inicio');
    const carta = document.getElementById('carta');
    const mensaje = document.getElementById('mensaje');
    const btn = document.getElementById('despedirBtn');

    let tipoDestinatario = "";

    // FunciÃ³n mostrar pÃ¡rrafos con animaciÃ³n
    function mostrarParrafos(texto, elemento, callback){
        elemento.innerHTML="";
        const parrafos = texto.split("\n\n");
        let i=0;
        function mostrarSiguienteParrafo(){
            if(i>=parrafos.length){ if(callback) callback(); return;}
            const p = document.createElement("p");
            p.textContent = parrafos[i].trim();
            elemento.appendChild(p);
            p.style.animation = "aparecerParrafo 0.8s ease forwards";
            i++;
            setTimeout(mostrarSiguienteParrafo,900);
        }
        mostrarSiguienteParrafo();
    }

    // Botones de selecciÃ³n inicial
    inicio.querySelectorAll('button').forEach(b=>{
        b.addEventListener('click', ()=>{
            tipoDestinatario = b.getAttribute('data-tipo');
            inicio.style.display='none';
            carta.style.display='block';
            mostrarParrafos(mensajes[tipoDestinatario], mensaje);
        });
    });

    // Confeti y emojis
    function lanzarConfeti() {
        for(let i=0;i<50;i++){
            const conf = document.createElement('div');
            conf.classList.add('confeti');
            conf.style.left = Math.random()*window.innerWidth+'px';
            conf.style.width=conf.style.height=(5+Math.random()*10)+'px';
            conf.style.background=`hsl(${Math.random()*360},90%,60%)`;
            document.body.appendChild(conf);
            moverElemento(conf);
        }
        for(let i=0;i<10;i++){
            const emoji = document.createElement('div');
            emoji.classList.add('emoji');
            emoji.textContent = ['ðŸŽ‰','ðŸ¥³','âœ¨','ðŸŽ†'][Math.floor(Math.random()*4)];
            emoji.style.left = Math.random()*window.innerWidth+'px';
            document.body.appendChild(emoji);
            moverElemento(emoji,true);
        }
    }

    function moverElemento(el,isEmoji=false){
        let top=0;
        const velocidad=2+Math.random()*3;
        const interval=setInterval(()=>{
            top+=velocidad;
            el.style.top=top+'px';
            if(top>window.innerHeight){
                el.remove();
                clearInterval(interval);
            }
        },20);
    }

    btn.addEventListener('click',()=>{
        lanzarConfeti();
        mostrarParrafos("ðŸŽ‰ Â¡El aÃ±o ha sido despedido con estilo! Feliz 2026 ðŸŽ‰",mensaje);
        btn.disabled=true;
        btn.textContent="Â¡Feliz AÃ±o Nuevo!";
    });

</script>
</body>
</html>
